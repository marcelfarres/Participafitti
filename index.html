<!DOCTYPE html >
<html>
<head>
	<meta charset="UTF-"></meta> 
	<title>Participafitti</title>
	<link rel="stylesheet" type="text/css" href="style.css"/>
  <script type="text/javascript" src="perspective.js"></script>
</head>


<body>
<div id="content">
  <canvas id="canvas" width="1000" height="700">
</div>
</body>
  
<!-- <script type="text/javascript" src="transform_func.js"></script>   -->


<script type="text/javascript">
  window.onload = function(){

    // General Canvas (BG)
    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext('2d');
    
    // Image Canvas ()
    var canvas1 = document.createElement ('canvas');
    canvas1.width = canvas.width;
    canvas1.height = canvas.height;
    var ctx1 = canvas1.getContext('2d');

    // BackGround
    var bg = new Image();
    bg.src = "data/dummy.jpg";
    canvas.height = bg.height;
    canvas.width = bg.width;

    // Overlay
    var op = null;
    var points = [[50, 50], [550, 100], [300, 400], [100, 400]]; 
    var overlay = new Image();
    overlay.src = "data/dummy_overlay.png";  
    overlay.onload = function(){
      op = new html5jp.prespective(ctx1, overlay);
      op.draw(points);
      draw_canvas(ctx, ctx1);
    }

  }

  function draw_canvas (ctx, ctx1){
    ctx.clearRect(0,0,ctx.canvas.width, ctx.canvas.height);
    ctx.drawImage(bg,0,0);
    ctx.drawImage(ctx1.canvas, 0, 0);
  }

</html>